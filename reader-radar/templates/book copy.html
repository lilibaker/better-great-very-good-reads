<head>
<meta charset = "UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Reader Radar</title>
<link href="https://fonts.googleapis.com/css2?family=Baskervville&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../static/styles.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body style = "background-color: #fffaf8;">

  <div class="topnav">
      <a href="#ReaderRadar">Reader Radar</a>
      <a href="#Library">Library</a>
      <input type="text" placeholder="Search Books">
      <button type="submit">
          <img src="../Assets/search.png" alt="Search">
      </button>
  </div>
  

<div class="popular-section">
  <div style="padding-top: 50px;"></div>
  <h1 class="section-title">{{ book.title }}</h1>

  <div class="recommendation-grid"> 
    <div class="recommendation-image">
      <img src = "https://placehold.co/600x800" alt = "placeholder">
    </div>
    <div class="recommendation-content">
      <h1 class="section-title">{{ book.author }}</h1>
      <button id="wishlist-button" class="button">Add to Wishlist</button>
      <body class = "synopsis">{{ book.synopsis }}</body>
    </div>
  </div>
  <div style="padding-bottom: 100px;">
</div>

<div class="comments">
    <div style="padding-top: 50px;">
    </div>
    <h1 class="section-title">Reviews</h1>
    </div>
    <div class="review-input-container" style="display:flex; flex-direction:column; gap:8px; margin: 20px 80px;">
        <textarea
          id="newComment"
          rows="4"
          placeholder="Write your review hereâ€¦"
        ></textarea>
        <div style="display:flex; justify-content:flex-end;">
          <button id="submitComment" class="button">
            Submit
          </button>
        </div>
      </div>
    <div class="recommendation-grids" id="recommendationGrids">
      <!-- Dynamic grids will be inserted here by Python -->
    </div>
    <div class="comments-section">
      <h1 class="section-title">User Reviews</h1>
    
      {% for review in reviews %}
      <div class="comment-card">
        <div class="comment-header">
          <span class="username">{{ review.username }}</span>
        </div>
        <div class="comment-body">
          <p>{{ review.review_text }}</p>
        </div>
        <div class="comment-footer">
          <div class="stars">
            {% for i in range(1, 6) %}
              <span class="fa {% if i <= review.rating %}fa-star checked{% else %}fa-star-o{% endif %}"></span>
            {% endfor %}
          </div>
        </div>
      </div>
      {% endfor %}
    </div>


    <div style="padding-bottom: 100px;">
  </div>

  
  <!-- <script>
    // Data for recommendations
    const recommendations = [
        {
            imageSrc: 'https://placehold.co/600x800',
            author: 'Author Name 1',
            rating: 3,  // Number of filled stars
            synopsis: '17-year-old Samuel Sooleyman, a young point guard from South Sudan, seeks a way out of the conflict-ridden country by leveraging his basketball talent. He dreams of escaping the war, where his father is dead, his sister missing, and his family is in a refugee camp. He is given a chance when a basketball tournament in the United States offers him the opportunity to be scouted by college coaches.'
        },
    ];
  
    // Function to generate recommendation grids
    function generateRecommendations() {
        const container = document.getElementById('recommendationGrids');
        recommendations.forEach(rec => {
  
            const starDiv = document.createElement('div');
            starDiv.classList.add('icons');
            for (let i = 0; i < 5; i++) {
                const star = document.createElement('span');
                if (i < rec.rating) {
                    star.classList.add('fa', 'fa-star', 'checked');
                } else {
                    star.classList.add('fa', 'fa-star-o');
                }
                starDiv.appendChild(star);
            }
  
            // Interactive Rating (Below the static one)
            const interactiveDiv = document.createElement('div');
            interactiveDiv.classList.add('icons');
            interactiveDiv.style.alignItems = 'center';
  
            let selectedRating = 0;
            const interactiveStars = [];
  
            for (let i = 0; i < 5; i++) {
                const star = document.createElement('span');
                star.classList.add('fa', 'fa-star-o');
                star.style.cursor = 'pointer';
                star.dataset.index = i;
  
                star.addEventListener('mouseover', () => {
                    updateInteractiveStars(i + 1);
                });
  
                star.addEventListener('mouseout', () => {
                    updateInteractiveStars(selectedRating);
                });
  
                star.addEventListener('click', () => {
                    selectedRating = i + 1;
                    updateInteractiveStars(selectedRating);
                });
  
                interactiveStars.push(star);
                interactiveDiv.appendChild(star);
            }
  
            const submitButton = document.createElement('button');
            submitButton.textContent = 'Submit';
            submitButton.classList.add('button');
            submitButton.style.marginLeft = '10px';
  
            submitButton.addEventListener('click', () => {
                alert(`You rated this ${selectedRating} out of 5 stars!`);
                // Here you could also send this to a server or update UI further
            });
  
            interactiveDiv.appendChild(submitButton);
  
            function updateInteractiveStars(rating) {
                interactiveStars.forEach((star, index) => {
                    star.classList.remove('fa-star', 'fa-star-o');
                    star.classList.add(index < rating ? 'fa-star' : 'fa-star-o');
                });
            }
  
            const synopsisP = document.createElement('p');
            synopsisP.id = 'rec_synopsis';
            synopsisP.textContent = rec.synopsis;
  
            contentDiv.appendChild(headerDiv);
            contentDiv.appendChild(synopsisP);
            contentDiv.appendChild(starDiv);
            contentDiv.appendChild(interactiveDiv); // Use interactiveDiv here instead of myStar
  
            gridDiv.appendChild(imageDiv);
            gridDiv.appendChild(contentDiv);
  
            container.appendChild(gridDiv);
        });
    }
  
    // Call function to generate recommendation grids
    generateRecommendations();
  </script>
  </body>
  </html>
   -->


<!--<span class="fa fa-star checked"></span>
<span class="fa fa-star checked"></span>
<span class="fa fa-star checked"></span>
<span class="fa fa-star-o"></span>
<span class="fa fa-star-o"></span>--

this is how you add stars the checked ones are filled in and fa fa-star-o is unchecked
fa fa-star-half-o is if you have a half star
using font awesome 4 for this
>
