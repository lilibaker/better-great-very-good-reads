<head>
<meta charset = "UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Reader Radar</title>
<link href="https://fonts.googleapis.com/css2?family=Baskervville&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../static/styles.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body style = "background-color: #fffaf8;">

<div class="topnav">
    <a href="/">Reader Radar</a>
    <a href="/library">Library</a>
    <form action="/search" method="POST" style="display: inline;">
      <input type="text" name="query" placeholder="Search Books" required>
      <button type="submit">
          <img src="{{ url_for('static', filename='Assets/search.png') }}" alt="Search">
      </button>
    </form>
</div>

<div class="popular-section">
  <div style="padding-top: 50px;">
  </div>
  <h1 class="section-title">Results</h1>
  </div>
  <div class="recommendation-grids" id="recommendationGrids">
    <!-- Dynamic grids will be inserted here by Python -->
  </div>
  <div style="padding-bottom: 100px;">
</div>

<!-- <div class="recommendation-grids" id="recommendationGrids">
    {% for book in books %}
    <div class="recommendation-grid">
      <div class="recommendation-image">
        <img src="https://covers.openlibrary.org/b/isbn/{{ book.isbn }}-L.jpg" alt="Book cover for {{ book.title }}">
      </div>
      <div class="recommendation-content">
        <div style="display: flex; justify-content: space-between; align-items: center;">
          <h1 class="section-title" style="margin: 0;">{{ book.author }}</h1>
          <button class="button">Add to Wishlist</button>
        </div>
        </div>
        <p id="rec_synopsis">{{ book.synopsis }}</p>
      </div>
    </div>
    {% endfor %}
  </div> -->

<div class="recommendation-grids" id="recommendationGrids">
{% for book in books %}
<div class="recommendation-grid">
    <div class="recommendation-image">
    <img src="https://covers.openlibrary.org/b/isbn/{{ book.isbn }}-L.jpg" alt="Book cover for {{ book.title }}">
    </div>
    <div class="recommendation-content">
    <div style="display: flex; justify-content: space-between; align-items: center;">
        <h1 class="section-title" style="margin: 0;">{{ book.title }}</h1>
        <button class="button">Add to Wishlist</button>
    </div>
    <h2 style="margin: 5px 0;">{{ book.author }}</h2>
    <p id="rec_synopsis">{{ book.synopsis }}</p>
    </div>
</div>
{% endfor %}
</div>
  
<script>
  // Data for recommendations
  const recommendations = [
      {
          imageSrc: 'https://placehold.co/600x800',
          author: 'Author Name 1',
          rating: 3,  // Number of filled stars
          synopsis: 'This is a great book. Highly recommended!'
      },
      {
          imageSrc: 'https://placehold.co/600x800',
          author: 'Author Name 2',
          rating: 4,  // Number of filled stars
          synopsis: 'An insightful read. A must-have for your collection.'
      },
      // More recommendation objects can be added here
  ];

  // Function to generate recommendation grids
//   function generateRecommendations() {
//       const container = document.getElementById('recommendationGrids');
//       recommendations.forEach(rec => {
//           const gridDiv = document.createElement('div');
//           gridDiv.classList.add('recommendation-grid');

//           const imageDiv = document.createElement('div');
//           imageDiv.classList.add('recommendation-image');
//           const img = document.createElement('img');
//           img.src = rec.imageSrc;
//           img.alt = 'recommendation';
//           imageDiv.appendChild(img);

//           const contentDiv = document.createElement('div');
//           contentDiv.classList.add('recommendation-content');

//           const headerDiv = document.createElement('div');
//           headerDiv.style.display = 'flex';
//           headerDiv.style.justifyContent = 'space-between';
//           headerDiv.style.alignItems = 'center';

//           const authorH1 = document.createElement('h1');
//           authorH1.classList.add('section-title');
//           authorH1.textContent = rec.author;
//           authorH1.style.margin = '0';

//           const button = document.createElement('button');
//           button.classList.add('button');
//           button.textContent = 'Add to Wishlist';

//           headerDiv.appendChild(authorH1);
//           headerDiv.appendChild(button);


//           const starDiv = document.createElement('div');
//           starDiv.classList.add('icons');
//           for (let i = 0; i < 5; i++) {
//               const star = document.createElement('span');
//               if (i < rec.rating) {
//                   star.classList.add('fa', 'fa-star', 'checked');
//               } else {
//                   star.classList.add('fa', 'fa-star-o');
//               }
//               starDiv.appendChild(star);
//           }

//           const synopsisP = document.createElement('p');
//           synopsisP.id = 'rec_synopsis';
//           synopsisP.textContent = rec.synopsis;

//           contentDiv.appendChild(headerDiv);
//           contentDiv.appendChild(starDiv);
//           contentDiv.appendChild(synopsisP);

//           gridDiv.appendChild(imageDiv);
//           gridDiv.appendChild(contentDiv);

//           container.appendChild(gridDiv);
//       });
//   }

//   // Call function to generate recommendation grids
//   generateRecommendations();
// </script>

</body>
</html>


<!--<span class="fa fa-star checked"></span>
// <span class="fa fa-star checked"></span>
// <span class="fa fa-star checked"></span>
// <span class="fa fa-star-o"></span>
// <span class="fa fa-star-o"></span>--

// this is how you add stars the checked ones are filled in and fa fa-star-o is unchecked
// fa fa-star-half-o is if you have a half star
// using font awesome 4 for this
// >
